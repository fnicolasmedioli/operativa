<!DOCTYPE html>
<html>

<head>
    <style>
        body {
            margin: 0;
        }
    </style>

    <script src="
https://cdn.jsdelivr.net/npm/force-graph@1.49.1/dist/force-graph.min.js
"></script>
    <link href="
https://cdn.jsdelivr.net/npm/force-graph@1.49.1/src/force-graph.min.css
" rel="stylesheet">
</head>

<body>
    <div id="graph"></div>

    <script>
        // Random tree
        const N = 300;
        const gData = { "nodes": [{ "id": "120", "text": "NOT intro_arqui_sistemas AND NOT elec_dig", "esIntermedio": true }, { "id": "172", "text": "NOT estructuras AND NOT met_soft", "esIntermedio": true }, { "id": "183", "text": "ayda_1 AND NOT com_datos_1 AND NOT proba", "esIntermedio": true }, { "id": "269", "text": "NOT cs_compu_1 AND intro_prog_2 AND discreta", "esIntermedio": true }, { "id": "371", "text": "NOT cs_compu_1 AND intro_prog_2 AND NOT discreta", "esIntermedio": true }, { "id": "390", "text": "cs_compu_1 AND NOT intro_prog_2 AND NOT discreta", "esIntermedio": true }, { "id": "393", "text": "NOT com_datos_1 AND NOT sisop_1", "esIntermedio": true }, { "id": "397", "text": "NOT ayda_1 AND NOT com_datos_1 AND NOT proba", "esIntermedio": true }, { "id": "494", "text": "cs_compu_1 AND NOT intro_prog_2 AND discreta", "esIntermedio": true }, { "id": "540", "text": "NOT ayda_2 AND proba", "esIntermedio": true }, { "id": "663", "text": "ayda_1 AND NOT com_datos_1 AND proba", "esIntermedio": true }, { "id": "734", "text": "ayda_2 AND NOT proba", "esIntermedio": true }, { "id": "759", "text": "NOT objetos AND bd_1 AND NOT sisop_1", "esIntermedio": true }, { "id": "821", "text": "NOT cs_compu_1 AND intro_prog_2 AND discreta", "esIntermedio": true }, { "id": "830", "text": "NOT cs_compu_1 AND NOT intro_prog_2 AND NOT discreta", "esIntermedio": true }, { "id": "862", "text": "NOT intro_arqui_sistemas AND elec_dig", "esIntermedio": true }, { "id": "1004", "text": "cs_compu_1 AND intro_prog_2 AND NOT discreta", "esIntermedio": true }, { "id": "1158", "text": "estructuras AND NOT arq_comp_1", "esIntermedio": true }, { "id": "1251", "text": "NOT analisis_2 AND alg_lin AND NOT discreta", "esIntermedio": true }, { "id": "1263", "text": "NOT cs_compu_1 AND NOT intro_prog_2 AND discreta", "esIntermedio": true }, { "id": "1274", "text": "NOT analisis_2 AND NOT proba", "esIntermedio": true }, { "id": "1398", "text": "NOT analisis_2 AND proba", "esIntermedio": true }, { "id": "1445", "text": "NOT cs_compu_2 AND ayda_1", "esIntermedio": true }, { "id": "1451", "text": "objetos AND bd_1 AND NOT sisop_1", "esIntermedio": true }, { "id": "1554", "text": "analisis_2 AND alg_lin AND NOT discreta", "esIntermedio": true }, { "id": "1578", "text": "NOT analisis_2 AND NOT alg_lin AND NOT discreta", "esIntermedio": true }, { "id": "1585", "text": "estructuras AND NOT met_soft", "esIntermedio": true }, { "id": "1620", "text": "NOT objetos AND NOT bd_1 AND NOT sisop_1", "esIntermedio": true }, { "id": "1623", "text": "NOT objetos AND NOT bd_1 AND sisop_1", "esIntermedio": true }, { "id": "1641", "text": "analisis_2 AND NOT alg_lin AND NOT discreta", "esIntermedio": true }, { "id": "1788", "text": "NOT objetos AND bd_1 AND sisop_1", "esIntermedio": true }, { "id": "1804", "text": "NOT com_datos_1 AND sisop_1", "esIntermedio": true }, { "id": "1825", "text": "cs_compu_1 AND intro_prog_2 AND NOT discreta", "esIntermedio": true }, { "id": "1826", "text": "NOT cs_compu_2 AND NOT ayda_1", "esIntermedio": true }, { "id": "1850", "text": "NOT analisis_2 AND alg_lin AND discreta", "esIntermedio": true }, { "id": "1981", "text": "NOT estructuras AND met_soft", "esIntermedio": true }, { "id": "2065", "text": "NOT ayda_2 AND NOT proba", "esIntermedio": true }, { "id": "2233", "text": "NOT estructuras AND arq_comp_1", "esIntermedio": true }, { "id": "2289", "text": "com_datos_1 AND NOT sisop_1", "esIntermedio": true }, { "id": "2336", "text": "analisis_2 AND NOT proba", "esIntermedio": true }, { "id": "2406", "text": "NOT estructuras AND NOT arq_comp_1", "esIntermedio": true }, { "id": "2467", "text": "NOT cs_compu_1 AND NOT intro_prog_2 AND discreta", "esIntermedio": true }, { "id": "2470", "text": "ayda_1 AND com_datos_1 AND NOT proba", "esIntermedio": true }, { "id": "2571", "text": "objetos AND NOT bd_1 AND sisop_1", "esIntermedio": true }, { "id": "2601", "text": "cs_compu_1 AND NOT intro_prog_2 AND discreta", "esIntermedio": true }, { "id": "2621", "text": "NOT cs_compu_1 AND intro_prog_2 AND NOT discreta", "esIntermedio": true }, { "id": "2641", "text": "NOT ayda_1 AND NOT com_datos_1 AND proba", "esIntermedio": true }, { "id": "2663", "text": "NOT analisis_2 AND NOT alg_lin AND discreta", "esIntermedio": true }, { "id": "2707", "text": "cs_compu_1 AND NOT intro_prog_2 AND NOT discreta", "esIntermedio": true }, { "id": "2766", "text": "analisis_2 AND NOT alg_lin AND discreta", "esIntermedio": true }, { "id": "2773", "text": "NOT ayda_1 AND com_datos_1 AND NOT proba", "esIntermedio": true }, { "id": "2814", "text": "objetos AND NOT bd_1 AND NOT sisop_1", "esIntermedio": true }, { "id": "2907", "text": "NOT cs_compu_1 AND NOT intro_prog_2 AND NOT discreta", "esIntermedio": true }, { "id": "2912", "text": "intro_arqui_sistemas AND NOT elec_dig", "esIntermedio": true }, { "id": "2945", "text": "NOT ayda_1 AND com_datos_1 AND proba", "esIntermedio": true }, { "id": "6111", "text": "intro_prog_1", "esIntermedio": false }, { "id": "6112", "text": "analisis_1", "esIntermedio": false }, { "id": "6113", "text": "algebra_1", "esIntermedio": false }, { "id": "6114", "text": "quimica", "esIntermedio": false }, { "id": "6121", "text": "cs_compu_1", "esIntermedio": false }, { "id": "6122", "text": "intro_prog_2", "esIntermedio": false }, { "id": "6123", "text": "alg_lin", "esIntermedio": false }, { "id": "6124", "text": "fisica_1", "esIntermedio": false }, { "id": "6125", "text": "discreta", "esIntermedio": false }, { "id": "6211", "text": "cs_compu_2", "esIntermedio": false }, { "id": "6212", "text": "ayda_1", "esIntermedio": false }, { "id": "6213", "text": "intro_arqui_sistemas", "esIntermedio": false }, { "id": "6214", "text": "analisis_2", "esIntermedio": false }, { "id": "6215", "text": "electr_mag", "esIntermedio": false }, { "id": "6221", "text": "ayda_2", "esIntermedio": false }, { "id": "6222", "text": "com_datos_1", "esIntermedio": false }, { "id": "6223", "text": "proba", "esIntermedio": false }, { "id": "6224", "text": "elec_dig", "esIntermedio": false }, { "id": "6311", "text": "objetos", "esIntermedio": false }, { "id": "6312", "text": "estructuras", "esIntermedio": false }, { "id": "6313", "text": "met_soft", "esIntermedio": false }, { "id": "6314", "text": "arq_comp_1", "esIntermedio": false }, { "id": "6321", "text": "prog_expl", "esIntermedio": false }, { "id": "6322", "text": "bd_1", "esIntermedio": false }, { "id": "6323", "text": "leng_prog_1", "esIntermedio": false }, { "id": "6324", "text": "sisop_1", "esIntermedio": false }, { "id": "6325", "text": "inv_op_1", "esIntermedio": false }, { "id": "6411", "text": "arq_comp_2", "esIntermedio": false }, { "id": "6412", "text": "teo_info", "esIntermedio": false }, { "id": "6413", "text": "redes_2", "esIntermedio": false }, { "id": "6414", "text": "calc_1", "esIntermedio": false }, { "id": "6421", "text": "diseno_soft", "esIntermedio": false }, { "id": "6422", "text": "compi_1", "esIntermedio": false }, { "id": "6511", "text": "ing_soft", "esIntermedio": false }], "links": [{ "source": "120", "target": "6314", "value": "Pa(intro_arqui_sistemas) AND Pa(elec_dig)" }, { "source": "172", "target": "6322", "value": "Pa(estructuras) AND Pa(met_soft)" }, { "source": "183", "target": "397", "value": "Pa(ayda_1)" }, { "source": "183", "target": "6412", "value": "Pa(com_datos_1) AND Pa(proba)" }, { "source": "269", "target": "1263", "value": "Pa(intro_prog_2)" }, { "source": "269", "target": "2621", "value": "Pa(discreta)" }, { "source": "269", "target": "2907", "value": "Pa(intro_prog_2) AND Pa(discreta)" }, { "source": "269", "target": "6212", "value": "Pa(cs_compu_1)" }, { "source": "371", "target": "830", "value": "Pa(intro_prog_2)" }, { "source": "371", "target": "6211", "value": "Pa(cs_compu_1) AND Pa(discreta)" }, { "source": "390", "target": "830", "value": "Pa(cs_compu_1)" }, { "source": "390", "target": "6211", "value": "Pa(intro_prog_2) AND Pa(discreta)" }, { "source": "393", "target": "6413", "value": "Pa(com_datos_1) AND Pa(sisop_1)" }, { "source": "397", "target": "6412", "value": "Pa(ayda_1) AND Pa(com_datos_1) AND Pa(proba)" }, { "source": "494", "target": "390", "value": "Pa(discreta)" }, { "source": "494", "target": "830", "value": "Pa(cs_compu_1) AND Pa(discreta)" }, { "source": "494", "target": "2467", "value": "Pa(cs_compu_1)" }, { "source": "494", "target": "6211", "value": "Pa(intro_prog_2)" }, { "source": "540", "target": "2065", "value": "Pa(proba)" }, { "source": "540", "target": "6312", "value": "Pa(ayda_2)" }, { "source": "663", "target": "183", "value": "Pa(proba)" }, { "source": "663", "target": "397", "value": "Pa(ayda_1) AND Pa(proba)" }, { "source": "663", "target": "2641", "value": "Pa(ayda_1)" }, { "source": "663", "target": "6412", "value": "Pa(com_datos_1)" }, { "source": "734", "target": "2065", "value": "Pa(ayda_2)" }, { "source": "734", "target": "6312", "value": "Pa(proba)" }, { "source": "759", "target": "1620", "value": "Pa(bd_1)" }, { "source": "759", "target": "6421", "value": "Pa(objetos) AND Pa(sisop_1)" }, { "source": "821", "target": "371", "value": "Pa(discreta)" }, { "source": "821", "target": "830", "value": "Pa(intro_prog_2) AND Pa(discreta)" }, { "source": "821", "target": "2467", "value": "Pa(intro_prog_2)" }, { "source": "821", "target": "6211", "value": "Pa(cs_compu_1)" }, { "source": "830", "target": "6211", "value": "Pa(cs_compu_1) AND Pa(intro_prog_2) AND Pa(discreta)" }, { "source": "862", "target": "120", "value": "Pa(elec_dig)" }, { "source": "862", "target": "6314", "value": "Pa(intro_arqui_sistemas)" }, { "source": "1004", "target": "371", "value": "Pa(cs_compu_1)" }, { "source": "1004", "target": "390", "value": "Pa(intro_prog_2)" }, { "source": "1004", "target": "830", "value": "Pa(cs_compu_1) AND Pa(intro_prog_2)" }, { "source": "1004", "target": "6211", "value": "Pa(discreta)" }, { "source": "1158", "target": "2406", "value": "Pa(estructuras)" }, { "source": "1158", "target": "6324", "value": "Pa(arq_comp_1)" }, { "source": "1251", "target": "1578", "value": "Pa(alg_lin)" }, { "source": "1251", "target": "6223", "value": "Pa(analisis_2) AND Pa(discreta)" }, { "source": "1263", "target": "2907", "value": "Pa(discreta)" }, { "source": "1263", "target": "6212", "value": "Pa(cs_compu_1) AND Pa(intro_prog_2)" }, { "source": "1274", "target": "6325", "value": "Pa(analisis_2) AND Pa(proba)" }, { "source": "1398", "target": "1274", "value": "Pa(proba)" }, { "source": "1398", "target": "6325", "value": "Pa(analisis_2)" }, { "source": "1445", "target": "1826", "value": "Pa(ayda_1)" }, { "source": "1445", "target": "6221", "value": "Pa(cs_compu_2)" }, { "source": "1451", "target": "759", "value": "Pa(objetos)" }, { "source": "1451", "target": "1620", "value": "Pa(objetos) AND Pa(bd_1)" }, { "source": "1451", "target": "2814", "value": "Pa(bd_1)" }, { "source": "1451", "target": "6421", "value": "Pa(sisop_1)" }, { "source": "1554", "target": "1251", "value": "Pa(analisis_2)" }, { "source": "1554", "target": "1578", "value": "Pa(analisis_2) AND Pa(alg_lin)" }, { "source": "1554", "target": "1641", "value": "Pa(alg_lin)" }, { "source": "1554", "target": "6223", "value": "Pa(discreta)" }, { "source": "1578", "target": "6223", "value": "Pa(analisis_2) AND Pa(alg_lin) AND Pa(discreta)" }, { "source": "1585", "target": "172", "value": "Pa(estructuras)" }, { "source": "1585", "target": "6322", "value": "Pa(met_soft)" }, { "source": "1620", "target": "6421", "value": "Pa(objetos) AND Pa(bd_1) AND Pa(sisop_1)" }, { "source": "1623", "target": "1620", "value": "Pa(sisop_1)" }, { "source": "1623", "target": "6421", "value": "Pa(objetos) AND Pa(bd_1)" }, { "source": "1641", "target": "1578", "value": "Pa(analisis_2)" }, { "source": "1641", "target": "6223", "value": "Pa(alg_lin) AND Pa(discreta)" }, { "source": "1788", "target": "759", "value": "Pa(sisop_1)" }, { "source": "1788", "target": "1620", "value": "Pa(bd_1) AND Pa(sisop_1)" }, { "source": "1788", "target": "1623", "value": "Pa(bd_1)" }, { "source": "1788", "target": "6421", "value": "Pa(objetos)" }, { "source": "1804", "target": "393", "value": "Pa(sisop_1)" }, { "source": "1804", "target": "6413", "value": "Pa(com_datos_1)" }, { "source": "1825", "target": "2621", "value": "Pa(cs_compu_1)" }, { "source": "1825", "target": "2707", "value": "Pa(intro_prog_2)" }, { "source": "1825", "target": "2907", "value": "Pa(cs_compu_1) AND Pa(intro_prog_2)" }, { "source": "1825", "target": "6212", "value": "Pa(discreta)" }, { "source": "1826", "target": "6221", "value": "Pa(cs_compu_2) AND Pa(ayda_1)" }, { "source": "1850", "target": "1251", "value": "Pa(discreta)" }, { "source": "1850", "target": "1578", "value": "Pa(alg_lin) AND Pa(discreta)" }, { "source": "1850", "target": "2663", "value": "Pa(alg_lin)" }, { "source": "1850", "target": "6223", "value": "Pa(analisis_2)" }, { "source": "1981", "target": "172", "value": "Pa(met_soft)" }, { "source": "1981", "target": "6322", "value": "Pa(estructuras)" }, { "source": "2065", "target": "6312", "value": "Pa(ayda_2) AND Pa(proba)" }, { "source": "2233", "target": "2406", "value": "Pa(arq_comp_1)" }, { "source": "2233", "target": "6324", "value": "Pa(estructuras)" }, { "source": "2289", "target": "393", "value": "Pa(com_datos_1)" }, { "source": "2289", "target": "6413", "value": "Pa(sisop_1)" }, { "source": "2336", "target": "1274", "value": "Pa(analisis_2)" }, { "source": "2336", "target": "6325", "value": "Pa(proba)" }, { "source": "2406", "target": "6324", "value": "Pa(estructuras) AND Pa(arq_comp_1)" }, { "source": "2467", "target": "830", "value": "Pa(discreta)" }, { "source": "2467", "target": "6211", "value": "Pa(cs_compu_1) AND Pa(intro_prog_2)" }, { "source": "2470", "target": "183", "value": "Pa(com_datos_1)" }, { "source": "2470", "target": "397", "value": "Pa(ayda_1) AND Pa(com_datos_1)" }, { "source": "2470", "target": "1826", "value": "Pa(cs_compu_2)" }, { "source": "2470", "target": "2773", "value": "Pa(ayda_1)" }, { "source": "2470", "target": "6221", "value": "Pa(ayda_1)" }, { "source": "2470", "target": "6412", "value": "Pa(proba)" }, { "source": "2571", "target": "1620", "value": "Pa(objetos) AND Pa(sisop_1)" }, { "source": "2571", "target": "1623", "value": "Pa(objetos)" }, { "source": "2571", "target": "2814", "value": "Pa(sisop_1)" }, { "source": "2571", "target": "6421", "value": "Pa(bd_1)" }, { "source": "2601", "target": "1263", "value": "Pa(cs_compu_1)" }, { "source": "2601", "target": "2707", "value": "Pa(discreta)" }, { "source": "2601", "target": "2907", "value": "Pa(cs_compu_1) AND Pa(discreta)" }, { "source": "2601", "target": "6212", "value": "Pa(intro_prog_2)" }, { "source": "2621", "target": "2907", "value": "Pa(intro_prog_2)" }, { "source": "2621", "target": "6212", "value": "Pa(cs_compu_1) AND Pa(discreta)" }, { "source": "2641", "target": "397", "value": "Pa(proba)" }, { "source": "2641", "target": "6412", "value": "Pa(ayda_1) AND Pa(com_datos_1)" }, { "source": "2663", "target": "1578", "value": "Pa(discreta)" }, { "source": "2663", "target": "6223", "value": "Pa(analisis_2) AND Pa(alg_lin)" }, { "source": "2707", "target": "2907", "value": "Pa(cs_compu_1)" }, { "source": "2707", "target": "6212", "value": "Pa(intro_prog_2) AND Pa(discreta)" }, { "source": "2766", "target": "1578", "value": "Pa(analisis_2) AND Pa(discreta)" }, { "source": "2766", "target": "1641", "value": "Pa(discreta)" }, { "source": "2766", "target": "2663", "value": "Pa(analisis_2)" }, { "source": "2766", "target": "6223", "value": "Pa(alg_lin)" }, { "source": "2773", "target": "397", "value": "Pa(com_datos_1)" }, { "source": "2773", "target": "6412", "value": "Pa(ayda_1) AND Pa(proba)" }, { "source": "2814", "target": "1620", "value": "Pa(objetos)" }, { "source": "2814", "target": "6421", "value": "Pa(bd_1) AND Pa(sisop_1)" }, { "source": "2907", "target": "6212", "value": "Pa(cs_compu_1) AND Pa(intro_prog_2) AND Pa(discreta)" }, { "source": "2912", "target": "120", "value": "Pa(intro_arqui_sistemas)" }, { "source": "2912", "target": "6314", "value": "Pa(elec_dig)" }, { "source": "2945", "target": "397", "value": "Pa(com_datos_1) AND Pa(proba)" }, { "source": "2945", "target": "2641", "value": "Pa(com_datos_1)" }, { "source": "2945", "target": "2773", "value": "Pa(proba)" }, { "source": "2945", "target": "6412", "value": "Pa(ayda_1)" }, { "source": "6111", "target": "6111", "value": "Pd(intro_prog_1)", "curvature": 1 }, { "source": "6111", "target": "6121", "value": "Pa(intro_prog_1)" }, { "source": "6111", "target": "6122", "value": "Pa(intro_prog_1)" }, { "source": "6112", "target": "6112", "value": "Pd(analisis_1)", "curvature": 1 }, { "source": "6112", "target": "6124", "value": "Pa(analisis_1)" }, { "source": "6112", "target": "6214", "value": "Pa(analisis_1)" }, { "source": "6113", "target": "6113", "value": "Pd(algebra_1)", "curvature": 1 }, { "source": "6113", "target": "6123", "value": "Pa(algebra_1)" }, { "source": "6113", "target": "6125", "value": "Pa(algebra_1)" }, { "source": "6114", "target": "6114", "value": "Pd(quimica)", "curvature": 1 }, { "source": "6121", "target": "269", "value": "Pa(intro_prog_2) AND Pa(discreta) AND Pd(cs_compu_1)" }, { "source": "6121", "target": "371", "value": "Pa(intro_prog_2) AND Pd(cs_compu_1) AND Pd(discreta)" }, { "source": "6121", "target": "390", "value": "Pa(cs_compu_1) AND Pd(intro_prog_2) AND Pd(discreta)" }, { "source": "6121", "target": "494", "value": "Pa(cs_compu_1) AND Pa(discreta) AND Pd(intro_prog_2)" }, { "source": "6121", "target": "821", "value": "Pa(intro_prog_2) AND Pa(discreta) AND Pd(cs_compu_1)" }, { "source": "6121", "target": "830", "value": "Pd(cs_compu_1) AND Pd(intro_prog_2) AND Pd(discreta)" }, { "source": "6121", "target": "1004", "value": "Pa(cs_compu_1) AND Pa(intro_prog_2) AND Pd(discreta)" }, { "source": "6121", "target": "1263", "value": "Pa(discreta) AND Pd(cs_compu_1) AND Pd(intro_prog_2)" }, { "source": "6121", "target": "1825", "value": "Pa(cs_compu_1) AND Pa(intro_prog_2) AND Pd(discreta)" }, { "source": "6121", "target": "2467", "value": "Pa(discreta) AND Pd(cs_compu_1) AND Pd(intro_prog_2)" }, { "source": "6121", "target": "2601", "value": "Pa(cs_compu_1) AND Pa(discreta) AND Pd(intro_prog_2)" }, { "source": "6121", "target": "2621", "value": "Pa(intro_prog_2) AND Pd(cs_compu_1) AND Pd(discreta)" }, { "source": "6121", "target": "2707", "value": "Pa(cs_compu_1) AND Pd(intro_prog_2) AND Pd(discreta)" }, { "source": "6121", "target": "2907", "value": "Pd(cs_compu_1) AND Pd(intro_prog_2) AND Pd(discreta)" }, { "source": "6121", "target": "6121", "value": "Pd(cs_compu_1)", "curvature": 1 }, { "source": "6121", "target": "6211", "value": "Pa(cs_compu_1) AND Pa(intro_prog_2) AND Pa(discreta)" }, { "source": "6121", "target": "6212", "value": "Pa(cs_compu_1) AND Pa(intro_prog_2) AND Pa(discreta)" }, { "source": "6122", "target": "269", "value": "Pa(intro_prog_2) AND Pa(discreta) AND Pd(cs_compu_1)" }, { "source": "6122", "target": "371", "value": "Pa(intro_prog_2) AND Pd(cs_compu_1) AND Pd(discreta)" }, { "source": "6122", "target": "390", "value": "Pa(cs_compu_1) AND Pd(intro_prog_2) AND Pd(discreta)" }, { "source": "6122", "target": "494", "value": "Pa(cs_compu_1) AND Pa(discreta) AND Pd(intro_prog_2)" }, { "source": "6122", "target": "821", "value": "Pa(intro_prog_2) AND Pa(discreta) AND Pd(cs_compu_1)" }, { "source": "6122", "target": "830", "value": "Pd(cs_compu_1) AND Pd(intro_prog_2) AND Pd(discreta)" }, { "source": "6122", "target": "1004", "value": "Pa(cs_compu_1) AND Pa(intro_prog_2) AND Pd(discreta)" }, { "source": "6122", "target": "1263", "value": "Pa(discreta) AND Pd(cs_compu_1) AND Pd(intro_prog_2)" }, { "source": "6122", "target": "1825", "value": "Pa(cs_compu_1) AND Pa(intro_prog_2) AND Pd(discreta)" }, { "source": "6122", "target": "2467", "value": "Pa(discreta) AND Pd(cs_compu_1) AND Pd(intro_prog_2)" }, { "source": "6122", "target": "2601", "value": "Pa(cs_compu_1) AND Pa(discreta) AND Pd(intro_prog_2)" }, { "source": "6122", "target": "2621", "value": "Pa(intro_prog_2) AND Pd(cs_compu_1) AND Pd(discreta)" }, { "source": "6122", "target": "2707", "value": "Pa(cs_compu_1) AND Pd(intro_prog_2) AND Pd(discreta)" }, { "source": "6122", "target": "2907", "value": "Pd(cs_compu_1) AND Pd(intro_prog_2) AND Pd(discreta)" }, { "source": "6122", "target": "6122", "value": "Pd(intro_prog_2)", "curvature": 1 }, { "source": "6122", "target": "6211", "value": "Pa(cs_compu_1) AND Pa(intro_prog_2) AND Pa(discreta)" }, { "source": "6122", "target": "6212", "value": "Pa(cs_compu_1) AND Pa(intro_prog_2) AND Pa(discreta)" }, { "source": "6122", "target": "6213", "value": "Pa(intro_prog_2)" }, { "source": "6123", "target": "1251", "value": "Pa(alg_lin) AND Pd(analisis_2) AND Pd(discreta)" }, { "source": "6123", "target": "1554", "value": "Pa(analisis_2) AND Pa(alg_lin) AND Pd(discreta)" }, { "source": "6123", "target": "1578", "value": "Pd(analisis_2) AND Pd(alg_lin) AND Pd(discreta)" }, { "source": "6123", "target": "1641", "value": "Pa(analisis_2) AND Pd(alg_lin) AND Pd(discreta)" }, { "source": "6123", "target": "1850", "value": "Pa(alg_lin) AND Pa(discreta) AND Pd(analisis_2)" }, { "source": "6123", "target": "2663", "value": "Pa(discreta) AND Pd(analisis_2) AND Pd(alg_lin)" }, { "source": "6123", "target": "2766", "value": "Pa(analisis_2) AND Pa(discreta) AND Pd(alg_lin)" }, { "source": "6123", "target": "6123", "value": "Pd(alg_lin)", "curvature": 1 }, { "source": "6123", "target": "6223", "value": "Pa(analisis_2) AND Pa(alg_lin) AND Pa(discreta)" }, { "source": "6124", "target": "6124", "value": "Pd(fisica_1)", "curvature": 1 }, { "source": "6124", "target": "6215", "value": "Pa(fisica_1)" }, { "source": "6125", "target": "269", "value": "Pa(intro_prog_2) AND Pa(discreta) AND Pd(cs_compu_1)" }, { "source": "6125", "target": "371", "value": "Pa(intro_prog_2) AND Pd(cs_compu_1) AND Pd(discreta)" }, { "source": "6125", "target": "390", "value": "Pa(cs_compu_1) AND Pd(intro_prog_2) AND Pd(discreta)" }, { "source": "6125", "target": "494", "value": "Pa(cs_compu_1) AND Pa(discreta) AND Pd(intro_prog_2)" }, { "source": "6125", "target": "821", "value": "Pa(intro_prog_2) AND Pa(discreta) AND Pd(cs_compu_1)" }, { "source": "6125", "target": "830", "value": "Pd(cs_compu_1) AND Pd(intro_prog_2) AND Pd(discreta)" }, { "source": "6125", "target": "1004", "value": "Pa(cs_compu_1) AND Pa(intro_prog_2) AND Pd(discreta)" }, { "source": "6125", "target": "1251", "value": "Pa(alg_lin) AND Pd(analisis_2) AND Pd(discreta)" }, { "source": "6125", "target": "1263", "value": "Pa(discreta) AND Pd(cs_compu_1) AND Pd(intro_prog_2)" }, { "source": "6125", "target": "1554", "value": "Pa(analisis_2) AND Pa(alg_lin) AND Pd(discreta)" }, { "source": "6125", "target": "1578", "value": "Pd(analisis_2) AND Pd(alg_lin) AND Pd(discreta)" }, { "source": "6125", "target": "1641", "value": "Pa(analisis_2) AND Pd(alg_lin) AND Pd(discreta)" }, { "source": "6125", "target": "1825", "value": "Pa(cs_compu_1) AND Pa(intro_prog_2) AND Pd(discreta)" }, { "source": "6125", "target": "1850", "value": "Pa(alg_lin) AND Pa(discreta) AND Pd(analisis_2)" }, { "source": "6125", "target": "2467", "value": "Pa(discreta) AND Pd(cs_compu_1) AND Pd(intro_prog_2)" }, { "source": "6125", "target": "2601", "value": "Pa(cs_compu_1) AND Pa(discreta) AND Pd(intro_prog_2)" }, { "source": "6125", "target": "2621", "value": "Pa(intro_prog_2) AND Pd(cs_compu_1) AND Pd(discreta)" }, { "source": "6125", "target": "2663", "value": "Pa(discreta) AND Pd(analisis_2) AND Pd(alg_lin)" }, { "source": "6125", "target": "2707", "value": "Pa(cs_compu_1) AND Pd(intro_prog_2) AND Pd(discreta)" }, { "source": "6125", "target": "2766", "value": "Pa(analisis_2) AND Pa(discreta) AND Pd(alg_lin)" }, { "source": "6125", "target": "2907", "value": "Pd(cs_compu_1) AND Pd(intro_prog_2) AND Pd(discreta)" }, { "source": "6125", "target": "6125", "value": "Pd(discreta)", "curvature": 1 }, { "source": "6125", "target": "6211", "value": "Pa(cs_compu_1) AND Pa(intro_prog_2) AND Pa(discreta)" }, { "source": "6125", "target": "6212", "value": "Pa(cs_compu_1) AND Pa(intro_prog_2) AND Pa(discreta)" }, { "source": "6125", "target": "6223", "value": "Pa(analisis_2) AND Pa(alg_lin) AND Pa(discreta)" }, { "source": "6211", "target": "1445", "value": "Pa(ayda_1) AND Pd(cs_compu_2)" }, { "source": "6211", "target": "1826", "value": "Pd(cs_compu_2) AND Pd(ayda_1)" }, { "source": "6211", "target": "2470", "value": "Pa(cs_compu_2) AND Pd(ayda_1)" }, { "source": "6211", "target": "6211", "value": "Pd(cs_compu_2)", "curvature": 1 }, { "source": "6211", "target": "6221", "value": "Pa(cs_compu_2) AND Pa(ayda_1)" }, { "source": "6212", "target": "183", "value": "Pa(ayda_1) AND Pd(com_datos_1) AND Pd(proba)" }, { "source": "6212", "target": "397", "value": "Pd(ayda_1) AND Pd(com_datos_1) AND Pd(proba)" }, { "source": "6212", "target": "663", "value": "Pa(ayda_1) AND Pa(proba) AND Pd(com_datos_1)" }, { "source": "6212", "target": "1445", "value": "Pa(ayda_1) AND Pd(cs_compu_2)" }, { "source": "6212", "target": "1826", "value": "Pd(cs_compu_2) AND Pd(ayda_1)" }, { "source": "6212", "target": "2470", "value": "Pa(ayda_1) AND Pa(com_datos_1) AND Pd(proba)" }, { "source": "6212", "target": "2641", "value": "Pa(proba) AND Pd(ayda_1) AND Pd(com_datos_1)" }, { "source": "6212", "target": "2773", "value": "Pa(com_datos_1) AND Pd(ayda_1) AND Pd(proba)" }, { "source": "6212", "target": "2945", "value": "Pa(com_datos_1) AND Pa(proba) AND Pd(ayda_1)" }, { "source": "6212", "target": "6212", "value": "Pd(ayda_1)", "curvature": 1 }, { "source": "6212", "target": "6221", "value": "Pa(cs_compu_2) AND Pa(ayda_1)" }, { "source": "6212", "target": "6412", "value": "Pa(ayda_1) AND Pa(com_datos_1) AND Pa(proba)" }, { "source": "6213", "target": "120", "value": "Pd(intro_arqui_sistemas) AND Pd(elec_dig)" }, { "source": "6213", "target": "862", "value": "Pa(elec_dig) AND Pd(intro_arqui_sistemas)" }, { "source": "6213", "target": "2912", "value": "Pa(intro_arqui_sistemas) AND Pd(elec_dig)" }, { "source": "6213", "target": "6213", "value": "Pd(intro_arqui_sistemas)", "curvature": 1 }, { "source": "6213", "target": "6222", "value": "Pa(intro_arqui_sistemas)" }, { "source": "6213", "target": "6314", "value": "Pa(intro_arqui_sistemas) AND Pa(elec_dig)" }, { "source": "6214", "target": "1251", "value": "Pa(alg_lin) AND Pd(analisis_2) AND Pd(discreta)" }, { "source": "6214", "target": "1274", "value": "Pd(analisis_2) AND Pd(proba)" }, { "source": "6214", "target": "1398", "value": "Pa(proba) AND Pd(analisis_2)" }, { "source": "6214", "target": "1554", "value": "Pa(analisis_2) AND Pa(alg_lin) AND Pd(discreta)" }, { "source": "6214", "target": "1578", "value": "Pd(analisis_2) AND Pd(alg_lin) AND Pd(discreta)" }, { "source": "6214", "target": "1641", "value": "Pa(analisis_2) AND Pd(alg_lin) AND Pd(discreta)" }, { "source": "6214", "target": "1850", "value": "Pa(alg_lin) AND Pa(discreta) AND Pd(analisis_2)" }, { "source": "6214", "target": "2336", "value": "Pa(analisis_2) AND Pd(proba)" }, { "source": "6214", "target": "2663", "value": "Pa(discreta) AND Pd(analisis_2) AND Pd(alg_lin)" }, { "source": "6214", "target": "2766", "value": "Pa(analisis_2) AND Pa(discreta) AND Pd(alg_lin)" }, { "source": "6214", "target": "6214", "value": "Pd(analisis_2)", "curvature": 1 }, { "source": "6214", "target": "6223", "value": "Pa(analisis_2) AND Pa(alg_lin) AND Pa(discreta)" }, { "source": "6214", "target": "6325", "value": "Pa(analisis_2) AND Pa(proba)" }, { "source": "6214", "target": "6414", "value": "Pa(analisis_2)" }, { "source": "6215", "target": "6215", "value": "Pd(electr_mag)", "curvature": 1 }, { "source": "6215", "target": "6224", "value": "Pa(electr_mag)" }, { "source": "6221", "target": "540", "value": "Pa(proba) AND Pd(ayda_2)" }, { "source": "6221", "target": "734", "value": "Pa(ayda_2) AND Pd(proba)" }, { "source": "6221", "target": "2065", "value": "Pd(ayda_2) AND Pd(proba)" }, { "source": "6221", "target": "6221", "value": "Pd(ayda_2)", "curvature": 1 }, { "source": "6221", "target": "6311", "value": "Pa(ayda_2)" }, { "source": "6221", "target": "6312", "value": "Pa(ayda_2) AND Pa(proba)" }, { "source": "6221", "target": "6313", "value": "Pa(ayda_2)" }, { "source": "6221", "target": "6321", "value": "Pa(ayda_2)" }, { "source": "6222", "target": "183", "value": "Pa(ayda_1) AND Pd(com_datos_1) AND Pd(proba)" }, { "source": "6222", "target": "393", "value": "Pd(com_datos_1) AND Pd(sisop_1)" }, { "source": "6222", "target": "397", "value": "Pd(ayda_1) AND Pd(com_datos_1) AND Pd(proba)" }, { "source": "6222", "target": "663", "value": "Pa(ayda_1) AND Pa(proba) AND Pd(com_datos_1)" }, { "source": "6222", "target": "1804", "value": "Pa(sisop_1) AND Pd(com_datos_1)" }, { "source": "6222", "target": "2289", "value": "Pa(com_datos_1) AND Pd(sisop_1)" }, { "source": "6222", "target": "2470", "value": "Pa(ayda_1) AND Pa(com_datos_1) AND Pd(proba)" }, { "source": "6222", "target": "2641", "value": "Pa(proba) AND Pd(ayda_1) AND Pd(com_datos_1)" }, { "source": "6222", "target": "2773", "value": "Pa(com_datos_1) AND Pd(ayda_1) AND Pd(proba)" }, { "source": "6222", "target": "2945", "value": "Pa(com_datos_1) AND Pa(proba) AND Pd(ayda_1)" }, { "source": "6222", "target": "6222", "value": "Pd(com_datos_1)", "curvature": 1 }, { "source": "6222", "target": "6412", "value": "Pa(ayda_1) AND Pa(com_datos_1) AND Pa(proba)" }, { "source": "6222", "target": "6413", "value": "Pa(com_datos_1) AND Pa(sisop_1)" }, { "source": "6223", "target": "183", "value": "Pa(ayda_1) AND Pd(com_datos_1) AND Pd(proba)" }, { "source": "6223", "target": "397", "value": "Pd(ayda_1) AND Pd(com_datos_1) AND Pd(proba)" }, { "source": "6223", "target": "540", "value": "Pa(proba) AND Pd(ayda_2)" }, { "source": "6223", "target": "663", "value": "Pa(ayda_1) AND Pa(proba) AND Pd(com_datos_1)" }, { "source": "6223", "target": "734", "value": "Pa(ayda_2) AND Pd(proba)" }, { "source": "6223", "target": "1274", "value": "Pd(analisis_2) AND Pd(proba)" }, { "source": "6223", "target": "1398", "value": "Pa(proba) AND Pd(analisis_2)" }, { "source": "6223", "target": "2065", "value": "Pd(ayda_2) AND Pd(proba)" }, { "source": "6223", "target": "2336", "value": "Pa(analisis_2) AND Pd(proba)" }, { "source": "6223", "target": "2470", "value": "Pa(ayda_1) AND Pa(com_datos_1) AND Pd(proba)" }, { "source": "6223", "target": "2641", "value": "Pa(proba) AND Pd(ayda_1) AND Pd(com_datos_1)" }, { "source": "6223", "target": "2773", "value": "Pa(com_datos_1) AND Pd(ayda_1) AND Pd(proba)" }, { "source": "6223", "target": "2945", "value": "Pa(com_datos_1) AND Pa(proba) AND Pd(ayda_1)" }, { "source": "6223", "target": "6223", "value": "Pd(proba)", "curvature": 1 }, { "source": "6223", "target": "6312", "value": "Pa(ayda_2) AND Pa(proba)" }, { "source": "6223", "target": "6325", "value": "Pa(analisis_2) AND Pa(proba)" }, { "source": "6223", "target": "6412", "value": "Pa(ayda_1) AND Pa(com_datos_1) AND Pa(proba)" }, { "source": "6224", "target": "120", "value": "Pd(intro_arqui_sistemas) AND Pd(elec_dig)" }, { "source": "6224", "target": "862", "value": "Pa(elec_dig) AND Pd(intro_arqui_sistemas)" }, { "source": "6224", "target": "2912", "value": "Pa(intro_arqui_sistemas) AND Pd(elec_dig)" }, { "source": "6224", "target": "6224", "value": "Pd(elec_dig)", "curvature": 1 }, { "source": "6224", "target": "6314", "value": "Pa(intro_arqui_sistemas) AND Pa(elec_dig)" }, { "source": "6311", "target": "759", "value": "Pa(bd_1) AND Pd(objetos) AND Pd(sisop_1)" }, { "source": "6311", "target": "1451", "value": "Pa(objetos) AND Pa(bd_1) AND Pd(sisop_1)" }, { "source": "6311", "target": "1620", "value": "Pd(objetos) AND Pd(bd_1) AND Pd(sisop_1)" }, { "source": "6311", "target": "1623", "value": "Pa(sisop_1) AND Pd(objetos) AND Pd(bd_1)" }, { "source": "6311", "target": "1788", "value": "Pa(bd_1) AND Pa(sisop_1) AND Pd(objetos)" }, { "source": "6311", "target": "2571", "value": "Pa(objetos) AND Pa(sisop_1) AND Pd(bd_1)" }, { "source": "6311", "target": "2814", "value": "Pa(objetos) AND Pd(bd_1) AND Pd(sisop_1)" }, { "source": "6311", "target": "6311", "value": "Pd(objetos)", "curvature": 1 }, { "source": "6311", "target": "6323", "value": "Pa(objetos)" }, { "source": "6311", "target": "6421", "value": "Pa(objetos) AND Pa(bd_1) AND Pa(sisop_1)" }, { "source": "6312", "target": "172", "value": "Pd(estructuras) AND Pd(met_soft)" }, { "source": "6312", "target": "1158", "value": "Pa(estructuras) AND Pd(arq_comp_1)" }, { "source": "6312", "target": "1585", "value": "Pa(estructuras) AND Pd(met_soft)" }, { "source": "6312", "target": "1981", "value": "Pa(met_soft) AND Pd(estructuras)" }, { "source": "6312", "target": "2233", "value": "Pa(arq_comp_1) AND Pd(estructuras)" }, { "source": "6312", "target": "2406", "value": "Pd(estructuras) AND Pd(arq_comp_1)" }, { "source": "6312", "target": "6312", "value": "Pd(estructuras)", "curvature": 1 }, { "source": "6312", "target": "6322", "value": "Pa(estructuras) AND Pa(met_soft)" }, { "source": "6312", "target": "6324", "value": "Pa(estructuras) AND Pa(arq_comp_1)" }, { "source": "6313", "target": "172", "value": "Pd(estructuras) AND Pd(met_soft)" }, { "source": "6313", "target": "1585", "value": "Pa(estructuras) AND Pd(met_soft)" }, { "source": "6313", "target": "1981", "value": "Pa(met_soft) AND Pd(estructuras)" }, { "source": "6313", "target": "6313", "value": "Pd(met_soft)", "curvature": 1 }, { "source": "6313", "target": "6322", "value": "Pa(estructuras) AND Pa(met_soft)" }, { "source": "6314", "target": "1158", "value": "Pa(estructuras) AND Pd(arq_comp_1)" }, { "source": "6314", "target": "2233", "value": "Pa(arq_comp_1) AND Pd(estructuras)" }, { "source": "6314", "target": "2406", "value": "Pd(estructuras) AND Pd(arq_comp_1)" }, { "source": "6314", "target": "6314", "value": "Pd(arq_comp_1)", "curvature": 1 }, { "source": "6314", "target": "6324", "value": "Pa(estructuras) AND Pa(arq_comp_1)" }, { "source": "6314", "target": "6411", "value": "Pa(arq_comp_1)" }, { "source": "6321", "target": "6321", "value": "Pd(prog_expl)", "curvature": 1 }, { "source": "6322", "target": "759", "value": "Pa(bd_1) AND Pd(objetos) AND Pd(sisop_1)" }, { "source": "6322", "target": "1451", "value": "Pa(objetos) AND Pa(bd_1) AND Pd(sisop_1)" }, { "source": "6322", "target": "1620", "value": "Pd(objetos) AND Pd(bd_1) AND Pd(sisop_1)" }, { "source": "6322", "target": "1623", "value": "Pa(sisop_1) AND Pd(objetos) AND Pd(bd_1)" }, { "source": "6322", "target": "1788", "value": "Pa(bd_1) AND Pa(sisop_1) AND Pd(objetos)" }, { "source": "6322", "target": "2571", "value": "Pa(objetos) AND Pa(sisop_1) AND Pd(bd_1)" }, { "source": "6322", "target": "2814", "value": "Pa(objetos) AND Pd(bd_1) AND Pd(sisop_1)" }, { "source": "6322", "target": "6322", "value": "Pd(bd_1)", "curvature": 1 }, { "source": "6322", "target": "6421", "value": "Pa(objetos) AND Pa(bd_1) AND Pa(sisop_1)" }, { "source": "6323", "target": "6323", "value": "Pd(leng_prog_1)", "curvature": 1 }, { "source": "6323", "target": "6422", "value": "Pa(leng_prog_1)" }, { "source": "6324", "target": "393", "value": "Pd(com_datos_1) AND Pd(sisop_1)" }, { "source": "6324", "target": "759", "value": "Pa(bd_1) AND Pd(objetos) AND Pd(sisop_1)" }, { "source": "6324", "target": "1451", "value": "Pa(objetos) AND Pa(bd_1) AND Pd(sisop_1)" }, { "source": "6324", "target": "1620", "value": "Pd(objetos) AND Pd(bd_1) AND Pd(sisop_1)" }, { "source": "6324", "target": "1623", "value": "Pa(sisop_1) AND Pd(objetos) AND Pd(bd_1)" }, { "source": "6324", "target": "1788", "value": "Pa(bd_1) AND Pa(sisop_1) AND Pd(objetos)" }, { "source": "6324", "target": "1804", "value": "Pa(sisop_1) AND Pd(com_datos_1)" }, { "source": "6324", "target": "2289", "value": "Pa(com_datos_1) AND Pd(sisop_1)" }, { "source": "6324", "target": "2571", "value": "Pa(objetos) AND Pa(sisop_1) AND Pd(bd_1)" }, { "source": "6324", "target": "2814", "value": "Pa(objetos) AND Pd(bd_1) AND Pd(sisop_1)" }, { "source": "6324", "target": "6324", "value": "Pd(sisop_1)", "curvature": 1 }, { "source": "6324", "target": "6413", "value": "Pa(com_datos_1) AND Pa(sisop_1)" }, { "source": "6324", "target": "6421", "value": "Pa(objetos) AND Pa(bd_1) AND Pa(sisop_1)" }, { "source": "6325", "target": "6325", "value": "Pd(inv_op_1)", "curvature": 1 }, { "source": "6411", "target": "6411", "value": "Pd(arq_comp_2)", "curvature": 1 }, { "source": "6412", "target": "6412", "value": "Pd(teo_info)", "curvature": 1 }, { "source": "6413", "target": "6413", "value": "Pd(redes_2)", "curvature": 1 }, { "source": "6414", "target": "6414", "value": "Pd(calc_1)", "curvature": 1 }, { "source": "6421", "target": "6421", "value": "Pd(diseno_soft)", "curvature": 1 }, { "source": "6421", "target": "6511", "value": "Pa(diseno_soft)" }, { "source": "6422", "target": "6422", "value": "Pd(compi_1)", "curvature": 1 }, { "source": "6511", "target": "6511", "value": "Pd(ing_soft)", "curvature": 1 }] }

        // cross-link node objects
        gData.links.forEach(link => {
            const a = gData.nodes.find(node => node.id === link.source);
            const b = gData.nodes.find(node => node.id === link.target);

            if (!a || !b) {
                console.warn("Nodo no encontrado para el enlace:", link);
                return;
            }

            !a.neighbors && (a.neighbors = []);
            !b.neighbors && (b.neighbors = []);
            a.neighbors.push(b);
            b.neighbors.push(a);

            !a.links && (a.links = []);
            !b.links && (b.links = []);
            a.links.push(link);
            b.links.push(link);
        });

        const NODE_R = 8;

        const highlightNodes = new Set();
        const highlightLinks = new Set();
        let hoverNode = null;

        const Graph = new ForceGraph(document.getElementById('graph'))
            .graphData(gData)
            .nodeRelSize(NODE_R)
            .nodeId('id')
            .onLinkHover(link => {
                highlightNodes.clear();
                highlightLinks.clear();
                if (link) {
                    highlightLinks.add(link);
                    highlightNodes.add(link.source);
                    highlightNodes.add(link.target);
                }
            })
            .autoPauseRedraw(false) // keep redrawing after engine has stopped
            .linkWidth(link => highlightLinks.has(link) ? 5 : 1)
            .linkDirectionalParticles(4)
            .linkDirectionalParticleWidth(link => highlightLinks.has(link) ? 4 : 0)
            .linkCurvature('curvature')
            .linkCanvasObjectMode(() => 'after')
            .linkCanvasObject((link, ctx) => {
                const MAX_FONT_SIZE = 4;
                const LABEL_NODE_MARGIN = Graph.nodeRelSize() * 1.5;

                const start = link.source;
                const end = link.target;
                if (typeof start !== 'object' || typeof end !== 'object') return;

                const textPos = { x: start.x + (end.x - start.x) / 2, y: start.y + (end.y - start.y) / 2 };
                const relLink = { x: end.x - start.x, y: end.y - start.y };
                const maxTextLength = Math.sqrt(relLink.x ** 2 + relLink.y ** 2) - LABEL_NODE_MARGIN * 2;

                let textAngle = Math.atan2(relLink.y, relLink.x);
                if (textAngle > Math.PI / 2) textAngle = -(Math.PI - textAngle);
                if (textAngle < -Math.PI / 2) textAngle = -(-Math.PI - textAngle);

                const label = link.value;
                ctx.font = '1px Sans-Serif';
                const fontSize = Math.min(MAX_FONT_SIZE, maxTextLength / ctx.measureText(label).width);
                ctx.font = `${fontSize}px Sans-Serif`;
                const textWidth = ctx.measureText(label).width;
                const bckgDimensions = [textWidth, fontSize].map(n => n + fontSize * 0.2);

                ctx.save();
                ctx.translate(textPos.x, textPos.y);
                ctx.rotate(textAngle);

                // Cambiar estilo si el link está resaltado
                if (highlightLinks.has(link)) {
                    ctx.fillStyle = 'rgba(255, 200, 100, 1)'; // Fondo más llamativo
                    ctx.fillRect(-bckgDimensions[0] / 2, -bckgDimensions[1] / 2, ...bckgDimensions);
                    ctx.fillStyle = 'black'; // Texto en negro
                    ctx.font = `bold ${fontSize}px Sans-Serif`; // Negrita
                } else {
                    ctx.fillStyle = 'rgba(255, 255, 255, 0.8)'; // Fondo normal
                    ctx.fillRect(-bckgDimensions[0] / 2, -bckgDimensions[1] / 2, ...bckgDimensions);
                    ctx.fillStyle = 'darkgrey'; // Texto gris
                }

                ctx.textAlign = 'center';
                ctx.textBaseline = 'middle';
                ctx.fillText(label, 0, 0);
                ctx.restore();
            })
            .nodeCanvasObjectMode(node => highlightNodes.has(node) ? 'before' : 'after')
            .nodeCanvasObject((node, ctx, globalScale) => {
                if (highlightNodes.has(node)) {
                    // Dibujar anillo de hover antes del nodo
                    ctx.beginPath();
                    ctx.arc(node.x, node.y, NODE_R * 1.4, 0, 2 * Math.PI, false);
                    ctx.fillStyle = node === hoverNode ? 'red' : 'orange';
                    ctx.fill();
                }

                // Dibujar el nodo principal
                ctx.beginPath();
                ctx.arc(node.x, node.y, NODE_R, 0, 2 * Math.PI, false);
                ctx.fillStyle = node.color || 'blue';
                ctx.fill();

                // Mostrar label solo si el nodo está en hover o resaltado
                if (highlightNodes.has(node) || node === hoverNode) {
                    const label = node.text || node.id;
                    const fontSize = Math.max(12 / globalScale, 4);
                    ctx.font = `${fontSize}px Sans-Serif`;
                    const textWidth = ctx.measureText(label).width;
                    const bckgDimensions = [textWidth, fontSize].map(n => n + fontSize * 0.2);

                    // Dibujar fondo del label
                    ctx.fillStyle = node.esIntermedio ? 'rgba(100, 255, 100, 0.8)' : 'rgba(255, 255, 255, 0.8)';
                    ctx.fillRect(node.x - bckgDimensions[0] / 2, node.y - NODE_R - bckgDimensions[1], ...bckgDimensions);

                    // Dibujar texto del label
                    ctx.textAlign = 'center';
                    ctx.textBaseline = 'middle';
                    ctx.fillStyle = "#000";
                    ctx.fillText(label, node.x, node.y - NODE_R - bckgDimensions[1] / 2);
                }
            })
            .nodePointerAreaPaint((node, color, ctx) => {
                // Define la zona de detección del nodo
                ctx.fillStyle = color;
                ctx.beginPath();
                ctx.arc(node.x, node.y, NODE_R * 1.5, 0, 2 * Math.PI, false);
                ctx.fill();
            })
            .onNodeHover(node => {
                highlightNodes.clear();
                highlightLinks.clear();

                if (node) {
                    highlightNodes.add(node);
                    node.neighbors.forEach(neighbor => highlightNodes.add(neighbor));
                    node.links.forEach(link => highlightLinks.add(link));
                }

                hoverNode = node || null;
            })
            .onNodeDragEnd(node => {
                node.fx = node.x;
                node.fy = node.y;
            });

    </script>
</body>